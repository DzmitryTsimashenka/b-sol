const minskArenaElements = [
    {
        'href': 'images/dummy/img3.jpg',
        'type': 'image',
        'title': 'My Title',
        'description': 'Example',
        'alt': 'Alt Image',
    },
    {
        'href': 'images/dummy/img2.jpg',
        'type': 'image',
        'alt': 'image text alternatives'
    },
    {
        'href': 'images/dummy/img1.jpg',
        'type': 'image',
        'alt': 'image text alternatives'
    },
];
const tdEkvatorElements = [
    {
        'href': 'images/dummy/img4.jpg',
        'type': 'image',
        'title': 'My Title',
        'description': 'Example',
        'alt': 'Alt Image',
    },
    {
        'href': 'images/dummy/img5.jpg',
        'type': 'image',
        'alt': 'image text alternatives'
    },
    {
        'href': 'images/dummy/img6.jpg',
        'type': 'image',
        'alt': 'image text alternatives'
    },
];
const kobrinElements = [
    {
        'href': 'images/dummy/img4.jpg',
        'type': 'image',
        'title': 'My Title',
        'description': 'Example',
        'alt': 'Alt Image',
    },
    {
        'href': 'images/dummy/img2.jpg',
        'type': 'image',
        'alt': 'image text alternatives'
    },
    {
        'href': 'images/dummy/img6.jpg',
        'type': 'image',
        'alt': 'image text alternatives'
    },
    {
        'href': 'images/dummy/img7.jpg',
        'type': 'image',
        'alt': 'image text alternatives'
    },
];

const diamondCrownsElements = [
    {
        'href': 'images/diamond-crowns/diamond-crowns-640w.webp',
        'type': 'image',
        'title': 'Алмазные коронки DLT для плитки',
        'alt': 'Алмазные коронки DLT для плитки',
    },
    {
        'href': 'images/diamond-crowns/diamond-crowns-1-640w.webp',
        'type': 'image',
        'alt': 'Алмазные коронки DLT для плитки',
    },
];
const airlessPaintElements = [
    {
        'href': 'images/airless-paint/airless-paint-640w.webp',
        'type': 'image',
        'title': 'Поршневой безвоздушный окрасочный аппарат HVBAN',
        'description': 'При покраске данным безвоздушным аппаратом нет скачков давления на окрасочном пистолете, в отличии от аппаратов с механической регулировкой давления, что существенным образом влияет на конечный результат работ.',
        'alt': 'Поршневой безвоздушный окрасочный аппарат HVBAN',
    },
    {
        'href': 'images/airless-paint/airless-paint-1-640w.webp',
        'type': 'image',
        'alt': 'Поршневой безвоздушный окрасочный аппарат HVBAN',
    },
    {
        'href': 'images/airless-paint/airless-paint-2-640w.webp',
        'type': 'image',
        'alt': 'Поршневой безвоздушный окрасочный аппарат HVBAN',
    },
    {
        'href': 'images/airless-paint/airless-paint-3-640w.webp',
        'type': 'image',
        'alt': 'Поршневой безвоздушный окрасочный аппарат HVBAN',
    },
];
const spatulasElements = [
    {
        'href': 'images/spatulas/spatulas-640w.webp',
        'type': 'image',
        'title': 'Финишный h-образный шпатель «DLT Finish SILVER»',
        'alt': 'Финишный h-образный шпатель «DLT Finish SILVER»',
        'description': 'Малярный профессиональный шпатель «DLT Finish SILVER» применяться для нанесения и разравнивания декоративной штукатурки, стеклотканевой сетки, стеклообоев, нанесения и разравнивания шпаклевочных масс, при нанесении ручным и машинным способом.',
    },
    {
        'href': 'images/spatulas/spatulas-1-640w.webp',
        'type': 'image',
        'alt': 'Финишный h-образный шпатель «DLT Finish SILVER»',
    },
    {
        'href': 'images/spatulas/spatulas-2-640w.webp',
        'type': 'image',
        'alt': 'Финишный h-образный шпатель «DLT Finish SILVER»',
    },
    {
        'href': 'images/spatulas/spatulas-3-640w.webp',
        'type': 'image',
        'alt': 'Финишный h-образный шпатель «DLT Finish SILVER»',
    },
    {
        'href': 'images/spatulas/spatulas-4-640w.webp',
        'type': 'image',
        'alt': 'Финишный h-образный шпатель «DLT Finish SILVER»',
    },
    {
        'href': 'images/spatulas/spatulas-5-640w.webp',
        'type': 'image',
        'alt': 'Финишный h-образный шпатель «DLT Finish SILVER»',
    },
    {
        'href': 'images/spatulas/spatulas-6-640w.webp',
        'type': 'image',
        'alt': 'Финишный h-образный шпатель «DLT Finish SILVER»',
    },
    {
        'href': 'images/spatulas/spatulas-7-640w.webp',
        'type': 'image',
        'alt': 'Финишный h-образный шпатель «DLT Finish SILVER»',
    },
];
const tileCutterElements = [
    {
        'href': 'images/tile-cutter/tile-cutter-640w.webp',
        'type': 'image',
        'title': 'Плиткорез DLT ProLine 800',
        'description': 'Плиткорез DLT ProLine 800 способен разрезать даже трудные для резки материалы, с приложением минимального усилия и обеспечивая высокое качество реза. за счет разделяющего усилия до 1200 кг. Справляется с любой плиткой: режет твердые, толстые, рельефные материалы, плитку любой формы, кафель, керамогранит и т.д. Могут работать с разными видами плитки по толщине — от 2 до 16 мм',
        'alt': 'Плиткорез DLT ProLine 800',
    },
    {
        'href': 'images/tile-cutter/tile-cutter-1-640w.webp',
        'type': 'image',
        'alt': 'Плиткорез DLT ProLine 800',
    },
    {
        'href': 'images/tile-cutter/tile-cutter-2-640w.webp',
        'type': 'image',
        'alt': 'Плиткорез DLT ProLine 800',
    },
    {
        'href': 'images/tile-cutter/tile-cutter-3-640w.webp',
        'type': 'image',
        'alt': 'Плиткорез DLT ProLine 800',
    },
    {
        'href': 'images/tile-cutter/tile-cutter-4-640w.webp',
        'type': 'image',
        'alt': 'Плиткорез DLT ProLine 800',
    },
];
const karcherElements = [
    {
        'href': 'images/karcher/karcher-640w.webp',
        'type': 'image',
        'title': 'ПЫЛЕСОС KARCHER WD 3 P',
        'alt': 'ПЫЛЕСОС KARCHER WD 3 P',
        'description': 'Многофункциональный пылесос KÄRCHER WD 3 P / MV 3 P оснащен стойким к повреждениям контейнером из пластика объемом 17 л и системой фильтрации, позволяющей собирать как влагу, так и сухой мусор без замены фильтра. ',
    },
    {
        'href': 'images/karcher/karcher-1-640w.webp',
        'type': 'image',
        'alt': 'ПЫЛЕСОС KARCHER WD 3 P',
    },
    {
        'href': 'images/karcher/karcher-2-640w.webp',
        'type': 'image',
        'alt': 'ПЫЛЕСОС KARCHER WD 3 P',
    },
];
const grinderElements = [
    {
        'href': 'images/grinder/grinder-640w.webp',
        'type': 'image',
        'title': 'Шлифмашина для стен и потолков Wortex DG 2260',
        'alt': 'Шлифмашина для стен и потолков Wortex DG 2260',
    },
    {
        'href': 'images/grinder/grinder-1-640w.webp',
        'type': 'image',
        'alt': 'Шлифмашина для стен и потолков Wortex DG 2260',
    },
    {
        'href': 'images/grinder/grinder-2-640w.webp',
        'type': 'image',
        'alt': 'Шлифмашина для стен и потолков Wortex DG 2260',
    },
];
const ruleElements = [
    {
        'href': 'images/rule/rule-640w.webp',
        'type': 'image',
        'title': 'Правило-уровень 1500мм STARTUL MASTER',
        'alt': 'Правило-уровень 1500мм STARTUL MASTER',
    },
];

const minskMirElements = [
    {
        'href': 'images/minsk-mir/minsk-mir-1-640w.webp',
        'type': 'image',
        'title': 'ЖК Минск Мир',
        'alt': 'ЖК Минск Мир',
    },
    {
        'href': 'images/minsk-mir/minsk-mir-2-640w.webp',
        'type': 'image',
        'title': 'ЖК Минск Мир',
        'alt': 'ЖК Минск Мир',
    },
    {
        'href': 'images/minsk-mir/minsk-mir-3-640w.webp',
        'type': 'image',
        'title': 'ЖК Минск Мир',
        'alt': 'ЖК Минск Мир',
    },
    {
        'href': 'images/minsk-mir/minsk-mir-4-640w.webp',
        'type': 'image',
        'title': 'ЖК Минск Мир',
        'alt': 'ЖК Минск Мир',
    },
    {
        'href': 'images/minsk-mir/minsk-mir-5-640w.webp',
        'type': 'image',
        'title': 'ЖК Минск Мир',
        'alt': 'ЖК Минск Мир',
    },
    {
        'href': 'images/minsk-mir/minsk-mir-6-640w.webp',
        'type': 'image',
        'title': 'ЖК Минск Мир',
        'alt': 'ЖК Минск Мир',
    },
    {
        'href': 'images/minsk-mir/minsk-mir-7-640w.webp',
        'type': 'image',
        'title': 'ЖК Минск Мир',
        'alt': 'ЖК Минск Мир',
    },
];
const lasVegasElements = [
    {
        'href': 'images/las-vegas/las-vegas-1-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },
    {
        'href': 'images/las-vegas/las-vegas-2-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },
    {
        'href': 'images/las-vegas/las-vegas-3-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },
    {
        'href': 'images/las-vegas/las-vegas-4-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },
    {
        'href': 'images/las-vegas/las-vegas-5-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },
    {
        'href': 'images/las-vegas/las-vegas-6-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },
    {
        'href': 'images/las-vegas/las-vegas-7-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },
    {
        'href': 'images/las-vegas/las-vegas-8-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },
    {
        'href': 'images/las-vegas/las-vegas-9-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },
    {
        'href': 'images/las-vegas/las-vegas-10-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },    {
        'href': 'images/las-vegas/las-vegas-11-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },
    {
        'href': 'images/las-vegas/las-vegas-12-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },
    {
        'href': 'images/las-vegas/las-vegas-13-640w.webp',
        'type': 'image',
        'title': 'Лас Вегас',
        'alt': 'Лас Вегас',
    },

];

const createGalleryFromBlock = (block, elements) => {
    if (block !== null) {
        block.addEventListener("click", function (event) {
            event.preventDefault();

            const gallery = GLightbox({elements});
            gallery.open();
        });
    }
}

(() => {
    document.addEventListener("DOMContentLoaded", function () {
        // Back to top button.
        const myBackToTop = function () {
            // browser window scroll
            var offset = 300,
                offset_opacity = 1200,
                back_to_top = document.querySelector(".back-top"),
                scrollpos = window.scrollY;

            var add_class_back_scroll = function add_class_back_scroll() {
                back_to_top.classList.add("block");
                back_to_top.classList.remove("hidden");
            };

            var add_class_offset_scroll = function add_class_offset_scroll() {
                back_to_top.classList.add("opacity-90");
            };

            var remove_class_back_scroll = function remove_class_back_scroll() {
                back_to_top.classList.remove("block", "opacity-90");
                back_to_top.classList.add("hidden");
            };

            // back to top by es6-scroll-to
            var defaults = {
                duration: 100,
                easing: function easing(t, b, c, d) {
                    return -c * (t /= d) * (t - 2) + b;
                },
                to: 0
            };
            var animatedScrollTo = function animatedScrollTo(args) {
                if (isInteger(args)) {
                    args = {
                        to: args
                    };
                }
                var options = extend(defaults, args);
                options.startingYOffset = window.pageYOffset;
                options.distanceYOffset = parseInt(options.to, 10) - options.startingYOffset;
                window.requestAnimationFrame(function (timestamp) {
                    return animateScroll(options, timestamp);
                });
            };
            var animateScroll = function animateScroll(options, now) {
                if (!options.startTime) {
                    options.startTime = now;
                }
                var currentTime = now - options.startTime;
                var newYOffset = Math.round(options.easing(currentTime, options.startingYOffset, options.distanceYOffset, options.duration));
                if (currentTime < options.duration) {
                    window.requestAnimationFrame(function (timestamp) {
                        return animateScroll(options, timestamp);
                    });
                } else {
                    newYOffset = options.to;
                }
                setScrollTopPosition(newYOffset);
            };
            var setScrollTopPosition = function setScrollTopPosition(newYOffset) {
                document.documentElement.scrollTop = newYOffset;
                document.body.scrollTop = newYOffset;
            };
            var isInteger = function isInteger(value) {
                if (Number.isInteger) {
                    return Number.isInteger(value);
                } else {
                    return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;
                }
            };
            var extend = function extend(defaults, options) {
                var extendedOptions = {};
                for (var key in defaults) {
                    extendedOptions[key] = options[key] || defaults[key];
                }
                return extendedOptions;
            };
            var easeInQuint = function easeInQuint(t, b, c, d) {
                return c * (t /= d) * t * t * t * t + b;
            };

            const scroll_a = document.querySelectorAll('.back-top');
            if (scroll_a != null) {
                for (var i = 0; i < scroll_a.length; i++) {
                    scroll_a[i].addEventListener("click", function () {
                        animatedScrollTo({
                            easing: easeInQuint,
                            duration: 100
                        });
                    });
                }
            }

            window.addEventListener('scroll', function () {
                scrollpos = window.scrollY;
                if (scrollpos > offset) {
                    add_class_back_scroll();
                } else {
                    remove_class_back_scroll();
                }
                if (scrollpos > offset_opacity) {
                    add_class_offset_scroll();
                }
            });
        }

        // Lightbox.
        const myLightbox = () => {
            const galleries = [
                // { gallery: document.querySelector(".minsk-arena"), elements: matusevichaElements },
                { gallery: document.querySelector(".las-vegas"), elements: lasVegasElements },
                { gallery: document.querySelector(".minsk-mir"), elements: minskMirElements },
                { gallery: document.querySelector(".kobrin"), elements: kobrinElements },
                { gallery: document.querySelector(".diamond-crowns"), elements: diamondCrownsElements },
                { gallery: document.querySelector(".airless-paint"), elements: airlessPaintElements },
                { gallery: document.querySelector(".spatulas"), elements: spatulasElements },
                { gallery: document.querySelector(".tile-cutter"), elements: tileCutterElements },
                { gallery: document.querySelector(".karcher"), elements: karcherElements },
                { gallery: document.querySelector(".grinder"), elements: grinderElements },
                { gallery: document.querySelector(".rule"), elements: ruleElements },
            ];

            galleries.map((item) => createGalleryFromBlock(item.gallery, item.elements))
        }

        // Splide.
        const mySplide = () => {
            const splide = new Splide(".splide", {
                width : '100vw',
                height: '100vh',
                lazyLoad: "sequential",
            });
            splide.mount();

            splide.on("move", (newIndex, prevIndex) => {
                if (newIndex === prevIndex) return;

                const slideTitle = `slide-title-${newIndex}`;
                const slideDescription = `slide-description-${newIndex}`;
                const slideButtons = `slide-buttons-${newIndex}`;

                const titleEl = document.getElementById(slideTitle);
                const descriptionEl = document.getElementById(slideDescription);
                const buttonsEl = document.getElementById(slideButtons);

                titleEl.classList.add("hidden");
                descriptionEl.classList.add("hidden");
                buttonsEl.classList.add("hidden");
            });

            splide.on("moved", (newIndex, prevIndex) => {
                if (newIndex === prevIndex) return;

                const slideTitle = `slide-title-${newIndex}`;
                const slideDescription = `slide-description-${newIndex}`;
                const slideButtons = `slide-buttons-${newIndex}`;

                const titleEl = document.getElementById(slideTitle);
                const descriptionEl = document.getElementById(slideDescription);
                const buttonsEl = document.getElementById(slideButtons);

                titleEl.classList.remove("hidden");
                descriptionEl.classList.remove("hidden");
                buttonsEl.classList.remove("hidden");

                titleEl.classList.add("animate__bounceInLeft");
                descriptionEl.classList.add("animate__bounceInRight");
                buttonsEl.classList.add("animate__bounceInUp");

                titleEl.addEventListener("animationend", () => titleEl.classList.remove("animate__bounceInLeft"), {once: true});
                descriptionEl.addEventListener("animationend", () => descriptionEl.classList.remove("animate__bounceInRight"), {once: true});
                buttonsEl.addEventListener("animationend", () => buttonsEl.classList.remove("animate__bounceInUp"), {once: true});
            });
        }

        myBackToTop();
        mySplide();
        myLightbox();
    });
})();
